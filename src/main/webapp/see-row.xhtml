<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="common.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="content">
    <h:form>
        <p:dataTable value="#{rowLevelController.row}" var="row">
            <p:columns var="pk" value="#{tableLevelController.table.primaryKeys}">
                <f:facet name="header">#{pk}</f:facet>
                <p:commandLink value="#{row.getAttribute(pk.name)}" ajax="false"
                               action="#{tableLevelController.seeRow(row)}"/>
            </p:columns>
            <p:columns var="attr" value="#{tableLevelController.table.attributes}">
                <f:facet name="header">#{attr}</f:facet>
                <p:outputLabel value="#{row.getAttribute(attr)}"/>
            </p:columns>
            <p:columns var="fk" value="#{tableLevelController.table.foreignKeys}">
                <f:facet name="header">#{fk}</f:facet>
                <p:commandLink value="#{row.getAttribute(fk)}" ajax="false"
                               action="#{tableLevelController.seeParentRow(fk, row)}"/>
            </p:columns>
        </p:dataTable>
    </h:form>
    </ui:define>
</ui:composition>
